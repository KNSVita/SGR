{% extends 'base.html' %}

{% block title %}Ranking: {{ classificacao.nome_disciplina }}{% endblock %}

{% block content %}

    <h3>üèÜ Ranking: {{ classificacao.nome_disciplina }}</h3>

    <div class="params-container">
        <h4>Par√¢metros de C√°lculo Utilizados:</h4>
        <ul>
            <li>Peso Real Trab: <b>{{ classificacao.peso_real_trab }}</b></li>
            <li>Peso Real AV: <b>{{ classificacao.peso_real_av }}</b></li>
            <li>Base de Nota AV/AVS: <b>{{ classificacao.peso_orig_av }}</b></li>
        </ul>
    </div>

    {% if ranking %}
        <table>
            <thead>
                <tr>
                    <th>Posi√ß√£o</th>
                    <th>Nome</th>
                    <th>Trab (Orig)</th>
                    <th>AV (Orig)</th>
                    <th>AVS (Orig)</th>
                    <th>Nota Final</th>
                </tr>
            </thead>
            <tbody>
                {% for aluno in ranking %}
                
                <tr>
                    <td class="rank-position {% if aluno.posicao == 1 %}rank-gold{% elif aluno.posicao == 2 %}rank-silver{% elif aluno.posicao == 3 %}rank-bronze{% endif %}">
                        
                        {% if aluno.posicao == 1 %} ü•á
                        {% elif aluno.posicao == 2 %} ü•à
                        {% elif aluno.posicao == 3 %} ü•â
                        {% else %} {{ aluno.posicao }}¬∫
                        {% endif %}
                    </td>
                    
                    <td>{{ aluno.nome }}</td>
                    <td class="nota-original">{{ aluno.nota_trab }}</td>
                    <td class="nota-original">{{ aluno.nota_av }}</td>
                    
                    <td class="nota-original">
                        {{ aluno.nota_avs if aluno.nota_avs is not none else '-' }}
                    </td>
                    
                    <td class="rank-final-grade">
                        {{ aluno.nota_final_calculada }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Nenhuma nota encontrada para esta disciplina.</p>
    {% endif %}

    <a href="{{ url_for('index') }}" class="link-voltar">
        &larr; Voltar para a p√°gina inicial
    </a>

{% endblock %}